#
# tuned configuration for maximizing Intel 14th Gen CPU and GPU performance
#

[main]
summary=Maximize Intel 14th Gen CPU and GPU performance across common workloads
include=throughput-performance

[variables]
thunderx_cpuinfo_regex=CPU part\s+:\s+(0x0?516)|(0x0?af)|(0x0?a[0-3])|(0x0?b8)\b

[cpu]
governor=performance
energy_perf_bias=performance
min_perf_pct=100
energy_performance_preference=performance

[acpi]
platform_profile=performance

# Marvell ThunderX
[vm.thunderx]
type=vm
uname_regex=aarch64
cpuinfo_regex=${thunderx_cpuinfo_regex}
transparent_hugepages=never

[disk]
# Increase readahead for better disk I/O performance
readahead=>4096

[sysctl]
# Increase dirty_ratio for systems with more memory to allow more data to be cached before being written
vm.dirty_ratio=40

# Background writeback starts earlier to avoid system I/O contention
vm.dirty_background_ratio=10

# Controls swappiness, lower values prefer keeping applications in physical memory
vm.swappiness=10

# Increase somaxconn for better network connection handling under load
net.core.somaxconn=>2048

# PID allocation settings for larger systems
# kernel.pid_max = 65536

[sysctl.thunderx]
type=sysctl
uname_regex=aarch64
cpuinfo_regex=${thunderx_cpuinfo_regex}
kernel.numa_balancing=0

[vm]
transparent_hugepages=always

[video]
# Disable panel power savings for maximum GPU performance
panel_power_savings=0

