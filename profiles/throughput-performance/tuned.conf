#
# 针对 Intel Core Ultra 7 258V 处理器的优化 tuned 配置
#

[main]
summary=为 Intel Core Ultra 7 258V 处理器优化的性能调优配置，完全忽略功耗，保证极致性能

[cpu]
# 设置 CPU 调速器为性能模式，始终运行在最高频率
governor=performance
energy_perf_bias=performance
min_perf_pct=100
energy_performance_preference=performance
force_latency=n

[cpufreq]
# 确保 CPU 频率始终在最大值
governor=performance
min_perf_pct=100
max_perf_pct=100

[acpi]
# 设置 ACPI 电源配置文件为性能模式
platform_profile=performance

[disk]
# 增大磁盘预读，提高大文件的读取性能
readahead=>8192

[vm]
# 根据工作负载选择是否禁用透明大页
transparent_hugepages=never

[sysctl]
# 增加允许的最大打开文件数，防止文件句柄耗尽
fs.file-max = 2097152

# 减少 SWAP 交换的倾向
vm.swappiness=10

# 增加 inotify 监视器数量，防止大量文件监视时耗尽
fs.inotify.max_user_watches = 524288

# 调整网络参数，增加 TCP 缓冲区，提高网络性能
net.core.rmem_max = 16777216
net.core.wmem_max = 16777216
net.ipv4.tcp_rmem = 4096 87380 16777216
net.ipv4.tcp_wmem = 4096 65536 16777216
net.core.netdev_max_backlog = 5000

# 减少 TCP 连接的 FIN 超时时间，加速连接释放
net.ipv4.tcp_fin_timeout = 15

# 增加系统允许的最大连接数
net.core.somaxconn=4096

# 禁用 NUMA 自动平衡，以避免在非 NUMA 系统上的开销（如果适用）
kernel.numa_balancing=0

[video]
# 禁用面板电源节能，确保显卡性能
panel_power_savings=0

